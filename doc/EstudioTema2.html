<html>
 <head></head>
 <body>
  <form class="removeMarginPaddingTop">
   <h1 id="2-39"><span id="4-39">CFGS Desarrollo de Aplicaciones Web</span></h1>
   <ul>
    <li id="45-1848"><span id="47-83"><a href="#cfgs-desarrollo-de-aplicaciones-web" id="47-122">CFGS Desarrollo de Aplicaciones Web</a></span>
     <ul>
      <li id="126-1762"><span id="128-153"><a href="#1-entorno-de-desarrollo" id="128-180">1. Entorno de Desarrollo</a></span>
       <ul>
        <li id="186-1293"><span id="188-218"><a href="#11-ubuntu-server-24043-lts" id="188-248">1.1 Ubuntu Server 24.04.3 LTS</a></span>
         <ul>
          <li id="256-396"><span id="258-288"><a href="#111-configuración-inicial" id="258-319">1.1.1 <strong>Configuración inicial</strong></a></span>
           <ul>
            <li id="329-396"><span id="331-361"><a href="#nombre-y-configuración-de-red" id="331-394">Nombre y configuración de red</a></span></li>
           </ul></li>
          <li id="402-660"><span id="404-428"><a href="#actualizar-el-sistema" id="404-455"><strong>Actualizar el sistema</strong></a></span>
           <ul>
            <li id="465-530"><span id="467-496"><a href="#configuración-fecha-y-hora" id="467-528"><strong>Configuración fecha y hora</strong></a></span></li>
            <li id="538-597"><span id="540-566"><a href="#cuentas-administradoras" id="540-595"><strong>Cuentas administradoras</strong></a></span></li>
            <li id="605-660"><span id="607-631"><a href="#habilitar-cortafuegos" id="607-658"><strong>Habilitar cortafuegos</strong></a></span></li>
           </ul></li>
          <li id="666-943"><span id="668-703"><a href="#112-instalación-del-servidor-web" id="668-739">1.1.2 Instalación del servidor web</a></span>
           <ul>
            <li id="749-780"><span id="751-763"><a href="#instalación" id="751-778">Instalación</a></span></li>
            <li id="788-845"><span id="790-815"><a href="#verficación-del-servicio" id="790-843">Verficación del servicio</a></span></li>
            <li id="853-888"><span id="855-869"><a href="#virtual-hosts" id="855-886">Virtual Hosts</a></span></li>
            <li id="896-943"><span id="898-918"><a href="#permisos-y-usuarios" id="898-941">Permisos y usuarios</a></span></li>
           </ul></li>
          <li id="949-1073"><span id="951-961"><a href="#113-php" id="951-972">1.1.3 PHP</a></span>
           <ul>
            <li id="984-1073"><span id="986-1027"><a href="#instalación-de-php-en-el-servidor-apache" id="986-1071">Instalación de PHP en el servidor apache</a></span></li>
           </ul></li>
          <li id="1079-1108"><span id="1081-1093"><a href="#114-mysql" id="1081-1106">1.1.4 MySQL</a></span></li>
          <li id="1114-1145"><span id="1116-1129"><a href="#115-xdebug" id="1116-1143">1.1.5 XDebug</a></span></li>
          <li id="1151-1176"><span id="1153-1163"><a href="#116-dns" id="1153-1174">1.1.6 DNS</a></span></li>
          <li id="1182-1209"><span id="1184-1195"><a href="#117-sftp" id="1184-1207">1.1.7 SFTP</a></span></li>
          <li id="1215-1260"><span id="1217-1237"><a href="#118-apache-tomcat" id="1217-1258">1.1.8 Apache Tomcat</a></span></li>
          <li id="1266-1293"><span id="1268-1279"><a href="#119-ldap" id="1268-1291">1.1.9 LDAP</a></span></li>
         </ul></li>
        <li id="1297-1762"><span id="1299-1314"><a href="#12-windows-11" id="1299-1331">1.2 Windows 11</a></span>
         <ul>
          <li id="1339-1554"><span id="1341-1371"><a href="#121-configuración-inicial" id="1341-1402">1.2.1 <strong>Configuración inicial</strong></a></span>
           <ul>
            <li id="1412-1485"><span id="1414-1446"><a href="#nombre-y-configuración-de-red-1" id="1414-1483"><strong>Nombre y configuración de red</strong></a></span></li>
            <li id="1493-1554"><span id="1495-1521"><a href="#cuentas-administradoras-1" id="1495-1552"><strong>Cuentas administradoras</strong></a></span></li>
           </ul></li>
          <li id="1560-1605"><span id="1562-1582"><a href="#122-navegadores" id="1562-1603">1.2.2 <strong>Navegadores</strong></a></span></li>
          <li id="1611-1652"><span id="1613-1631"><a href="#123-filezilla" id="1613-1650">1.2.3 <strong>FileZilla</strong></a></span></li>
          <li id="1658-1697"><span id="1660-1677"><a href="#124-netbeans" id="1660-1695">1.2.4 <strong>Netbeans</strong></a></span></li>
          <li id="1703-1762"><span id="1705-1732"><a href="#125-visual-studio-code" id="1705-1760">1.2.5 <strong>Visual Studio Code</strong></a></span></li>
         </ul></li>
       </ul></li>
      <li id="1764-1790"><span id="1766-1776"><a href="#2-github" id="1766-1788">2. GitHub</a></span></li>
      <li id="1792-1848"><span id="1794-1819"><a href="#3entorno-de-explotación" id="1794-1846">3.Entorno de Explotación</a></span></li>
     </ul></li>
   </ul>
   <table id="1850-2020">
    <thead>
     <tr id="1850-1869">
      <th align="center" id="1853-1867">DAW/DWES Tema2</th>
     </tr>
    </thead>
    <tbody>
     <tr id="1888-1916" class="noBorderTop">
      <td align="center" id="1889-1915" class="noBorderTop"><img src="nb_markdown_images/0_nb_markdown_not_load_image.png" alt="Alt" id="1889-1915"></td>
     </tr>
     <tr id="1918-2018" class="noBorderTopLeft">
      <td align="center" id="1920-2016" class="noBorderTop">INSTALACIÓN, CONFIGURACIÓN Y DOCUMENTACIÓN DE ENTORNO DE DESARROLLO Y DEL ENTORNO DE EXPLOTACIÓN</td>
     </tr>
    </tbody>
   </table>
   <h2 id="2022-2049"><span id="2025-2049">1. Entorno de Desarrollo</span></h2>
   <h3 id="2053-2086"><span id="2057-2086">1.1 Ubuntu Server 24.04.3 LTS</span></h3>
   <p id="2090-2262"><span id="2090-2260">Este documento es una guía detallada del proceso de instalación y configuración de un servidor de aplicaciones en Ubuntu Server utilizando Apache, con soporte PHP y MySQL</span></p>
   <h4 id="2264-2300"><span id="2269-2300">1.1.1 <strong>Configuración inicial</strong></span></h4>
   <h5 id="2304-2339"><span id="2310-2339">Nombre y configuración de red</span></h5>
   <blockquote>
    <p id="2345-2613"><span id="2345-2379"><strong>Nombre de la máquina</strong>: alp-used</span><br> <span id="2382-2403"><strong>Memoria RAM</strong>: 2G</span><br> <span id="2406-2455"><strong>Particiones</strong>: 150G(/) y resto (350GB) (/var)</span><br> <span id="2458-2500"><strong>Configuración de red interface</strong>: xxxx </span><br> <span id="2504-2539"><strong>Dirección IP</strong> :10.199.11.90/22</span><br> <span id="2542-2566"><strong>GW</strong>: 10.199.8.90/22</span><br> <span id="2569-2611"><strong>DNS</strong>: 10.151.123.21\ o 10.151.126.21\</span></p>
   </blockquote>
   <p id="2615-2689"><span id="2615-2687">Para comprobar todos estos valores debemos usar los siguientes comandos:</span></p>
   <pre id="2689-3170"><code class="language-bash" id="2698-3165">hostname
sudo hostnamectl          #Comprobar el nombre, el sistema operativo, la arquitectura, etc...

free -h                   #Comprobar la RAM total, en uso y libre. Parámetro -h para que salga  en Gb

lsblk
sudo fdisk -l /dev/sda    #Comprobar las distintas particiones del disco, su tamaño y su raíz

ip a
ip r                      #Comprobar IP y GW como se ve en las capturas de abajo

sudo resolvectl status    #Comprobar el DNS (educa.jcyl.es)
</code></pre>
   <p id="3174-3375"><span id="3174-3248">Editar el fichero de configuración del interface de red <strong>/etc/netplan</strong>.</span> <span id="3250-3323">En este caso los datos introducidos son los mios personales pero cada uno</span> <span id="3326-3373">puede configurarlo acorde con sus preferencias.</span></p>
   <pre id="3377-3703"><code class="language-bash" id="3386-3697">
# This is the network config written by 'subiquity'
network:
  ethernets:
    enp0s3:
      addresses:
       - 10.199.11.90/22
      nameservers:
       - 10.151.123.21
       - 10.151.126.21
       search: [educa.jcyl.es]
      routes:
       - to: default
       via: 10.199.8.1
  version: 2
</code></pre>
   <h3 id="3707-3736"><span id="3711-3736"><strong>Actualizar el sistema</strong></span></h3>
   <pre id="3738-3787"><code class="language-bash" id="3747-3782">sudo apt update
sudo apt upgrade
</code></pre>
   <h4 id="3787-3822"><span id="3792-3822"><strong>Configuración fecha y hora</strong></span></h4>
   <p id="3826-3988"><span id="3826-3864"><a href="https://somebooks.es/establecer-la-fecha-hora-y-zona-horaria-en-la-terminal-de-ubuntu-20-04-lts/" title="Cambiar fecha y hora" id="3826-3986">Establecer fecha, hora y zona horaria</a></span></p>
   <h4 id="3990-4022"><span id="3995-4022"><strong>Cuentas administradoras</strong></span></h4>
   <blockquote>
    <ul>
     <li class="task-list-item" id="4028-4048"><input type="checkbox" class="task-list-item-checkbox" checked disabled readonly>&nbsp;<span id="4034-4046">root(inicio)</span></li>
     <li class="task-list-item" id="4050-4070"><input type="checkbox" class="task-list-item-checkbox" checked disabled readonly>&nbsp;<span id="4056-4068">miadmin/paso</span></li>
     <li class="task-list-item" id="4072-4093"><input type="checkbox" class="task-list-item-checkbox" checked disabled readonly>&nbsp;<span id="4078-4091">miadmin2/paso</span></li>
    </ul>
   </blockquote>
   <h4 id="4095-4125"><span id="4100-4125"><strong>Habilitar cortafuegos</strong></span></h4>
   <p id="4129-4155"><span id="4129-4153">como activar cortafuegos</span></p>
   <h3 id="4157-4195"><span id="4161-4195">1.1.2 Instalación del servidor web</span></h3>
   <h4 id="4199-4215"><span id="4204-4215">Instalación</span></h4>
   <p id="4219-4557"><span id="4219-4555">Para instalar un servidor web vamos a descargar y configurar Apache. El primer paso es actualizar el SO y también los paquetes instalados. A continuación instalamos Apache2 y abrimos el puerto 80 que es el utilizados por Apache. Al abrir el puerto se abrirá tanto el normal como el (v6) y, por recomendación de seguridad, lo borraremos.</span></p>
   <pre id="4559-5028"><code class="language-bash" id="4568-5023">
sudo apt update                         #Actualizamos OS
sudo apt upgrade                        #Actualizamos paquetes instalados

sudo apt install apache2                #Instalamos Apache2 en la máquina
  
sudo ufw allow 80                       #Habilitamos el puerto 80 desde el cortafuegos.

sudo ufw status numbered                
sudo ufw delete 'numeropuerto'          #Borramos el puerto 80 (v6) usando su número de indetificación

</code></pre>
   <h4 id="5028-5057"><span id="5033-5057">Verficación del servicio</span></h4>
   <p id="5061-5445"><span id="5061-5443">Para verificar que Apache se ha instalado y está funcionando correctamente tenemos dos formas: entrando a un navegador desde el ordenador anfitrión y buscando la página con al dirección IP de la máquina. Si aparece una página como la de abajo es que Apache esta funcionando correctamente y que ambas máquinas están en la misma red. La otra forma es mediante los siguientes comandos:</span></p>
   <pre id="5447-5529"><code class="language-bash" id="5456-5524">
sudo service apache2 {opcion}
sudo systemctl {opcion} apache2

</code></pre>
   <h4 id="5529-5547"><span id="5534-5547">Virtual Hosts</span></h4>
   <h4 id="5549-5573"><span id="5554-5573">Permisos y usuarios</span></h4>
   <p id="5575-5758"><span id="5575-5756">Al crear la máquina virtual creamos al usuario miadmin con contraseña paso y con privilegios de sudo. Una vez configurada la red y verificado el servicio, creamos el usuario admin2:</span></p>
   <pre id="5760-5899"><code class="language-bash" id="5769-5894">sudo adduser miadmin2                   #Creamos el usuario con contraseña paso e ignoramos el resto de datos que nos piden
</code></pre>
   <p id="5901-6044"><span id="5901-6042">Una vez creado el usuario tenemos que darle privilegios de sudo, es decir, meterle en el grupo sudoers para que pueda hacer ciertos comandos.</span></p>
   <pre id="6046-6269"><code class="language-bash" id="6055-6264">sudo usermod -aG sudo miadmin2          
#Meter al usuario miadmin2 en el grupo sudo sin quitarle del resto de grupos que pertenece y -G indica los grupos suplementarios a los que quieres añadir el usuario.
</code></pre>
   <h3 id="6271-6284"><span id="6275-6284">1.1.3 PHP</span></h3>
   <h4 id="6286-6331"><span id="6291-6331">Instalación de PHP en el servidor apache</span></h4>
   <p id="6333-6450"><span id="6333-6448">Una vez actualizado el sistema y mejorado los paquetes (update y upgrade) debemos de realizar los siguientes pasos:</span></p>
   <pre id="6450-6906"><code class="language-bash" id="6459-6901"># Comprobamos que apache está instalado y activo.
sudo systectl status apache2

# Después añadimos el repositorio PPA de Ondrej para PHP:
sudo apt install software-properties-common
# Puede que ya venga instalado...

#Añadimos el repositorio de ondrej/php y comprobamos si ha sido instalado.
sudo add-apt-repository ppa:ondrej/php -y
ls /etc/apt/sources.list.d/ | grep ondrej
#Actualizamos todos los repositorios.
sudo apt update
</code></pre>
   <p id="6908-7072"><span id="6908-7069">Ahora instalamos la versión PHP-FPM y los módulos de Apache. En este caso la versión instalada será la PHP 8.3. A mayores, instalaremos otras extensiónes útiles.</span></p>
   <pre id="7074-7219"><code class="language-bash" id="7083-7214"># En el mismo comando va la instalación de PHP y de las extensiones.
sudo apt install php8.3 libapache2-mod-php8.3 php8.4-fpm -y
</code></pre>
   <hr id="7219-7222">
   <blockquote>
    <p id="7228-7388"><span id="7228-7242"><strong>Importante</strong></span> <span id="7244-7317">Ahora se va a habilitar ciertos módulos de PHP y puede saltar un error.</span> <span id="7319-7386">En caso de que salte error realizar los siguientes pasos previos.</span></p>
   </blockquote>
   <pre id="7390-7502"><code class="language-bash" id="7399-7497"># Primero deshabilitamos el mpm_prefork y no saldrá un posible error.
sudo a2dismod mpm_prefork
</code></pre>
   <pre id="7504-7699"><code class="language-bash" id="7513-7694"># Para resolver el error anterior desactivamos el módulo mod_php.
sudo a2dismod php8.3
# Este comando elimina la dependencia con mpm_prefork y ahora si podremos desahabilitarlo.
</code></pre>
   <pre id="7701-7835"><code class="language-bash" id="7710-7830"># Por último, una vez deshabilitado mpm_prefork, activaremos mpm_event y proxy_fcgi
sudo a2enmod mpm_event proxy_fcgi
</code></pre>
   <p id="7837-7914"><span id="7837-7912">Para terminar reiniciaremos Apache y comprobaremos que todo ha salido bien:</span></p>
   <pre id="7914-7991"><code class="language-bash" id="7923-7986"># Reiniciamos servicio Apache
sudo systemctl restart apache2
</code></pre>
   <p id="7993-8133"><span id="7993-8131">En caso de no haber salido error al reiniciar, creamos en nuestro directorio ráiz del servidor un info.php y le introducimos lo siguiente:</span></p>
   <pre id="8133-8170"><code class="language-bash" id="8142-8165">&lt;?php
phpinfo();
?&gt;
</code></pre>
   <p id="8170-8319"><span id="8170-8244">Entramos en nuestra página principal y escribimos en la barra de busqueda:</span> <span id="8246-8317">http://direccionip/info.php. Nos debería de salir una página como esta.</span></p>
   <h4 id="8323-8361"><span id="8328-8361">Configuración del intérprete PHP.</span></h4>
   <p id="8363-8445"><span id="8363-8443">La configuración que vamos a aplicar en nuestro servicio de PHP es el siguiente:</span></p>
   <blockquote>
    <p id="8447-8512"><span id="8447-8465">display_errors: On</span> <span id="8467-8488">display_startup: On</span> <span id="8490-8510">memory_limit: 256M</span></p>
   </blockquote>
   <p id="8514-8705"><span id="8514-8599">El display_errors sirve para mostrar los errores de ejecución en la salida (navegador</span> <span id="8601-8687">o consola) y el display_startup_erros para controlar los errores que surgen durante la</span> <span id="8689-8703">ejecución PHP.</span></p>
   <p id="8707-8857"><span id="8707-8795">El límite de memoria o memory_limit en el archivo de configuración sirve para establecer</span> <span id="8797-8855">un límite máximo de memoria que puede usar un archivo PHP.</span></p>
   <p id="8859-8947"><span id="8859-8945">Una vez explicado vamos a ir paso por paso detallando como aplicar esta configuración:</span></p>
   <p id="8949-9115"><span id="8949-9038">Una vez instalado PHP y comprobado que nos funciona el info.php entramos en el directorio</span> <span id="9040-9113">/etc/php/8.3/fpm donde encontraremos el archivo de configuración php.ini.</span></p>
   <pre id="9115-9596"><code class="language-bash" id="9124-9591">cd /etc/php/8.3/fpm

# Listamos el contenido y encontramos el archivo de configuración php.ini. Lo copiamos.
sudo cp php.ini php.ini.backup

#Modificamos el archivo php.ini cambiando los valores de display_errors, display_startup_errors
y memory_limit con los valores de On, On y 256M. Puedes user ctrl+w para buscar palabras en 
el editor.
sudo nano php.ini

#Una vez modificado y guardado, reiniciamos el servicio PHP.
sudo systemctl restart php8.3-fpm
</code></pre>
   <p id="9598-9783"><span id="9598-9692">Para comprobar que dicha configuración se ha aplicado vamos a la página info.php y comprobamos</span> <span id="9694-9781">que dichos valores han cambiado y son los introducidos en el archivo de configuración.ç</span></p>
   <blockquote>
    <p id="9787-9801"><span id="9787-9797"><strong>Consejo:</strong></span></p>
    <p id="9806-9951"><span id="9806-9897">En el info.php hay un apartado llamado "Loaded configuration File" que indica la ruta donde</span> <span id="9899-9949">se encuentra el archivo que acabamos de modificar.</span></p>
   </blockquote>
   <h3 id="9953-9968"><span id="9957-9968">1.1.4 MySQL</span></h3>
   <h3 id="9970-9986"><span id="9974-9986">1.1.5 XDebug</span></h3>
   <h3 id="9988-10001"><span id="9992-10001">1.1.6 DNS</span></h3>
   <h3 id="10003-10017"><span id="10007-10017">1.1.7 SFTP</span></h3>
   <h3 id="10019-10042"><span id="10023-10042">1.1.8 Apache Tomcat</span></h3>
   <h3 id="10044-10058"><span id="10048-10058">1.1.9 LDAP</span></h3>
   <h2 id="10062-10079"><span id="10065-10079">1.2 Windows 11</span></h2>
   <h3 id="10081-10116"><span id="10085-10116">1.2.1 <strong>Configuración inicial</strong></span></h3>
   <h4 id="10118-10156"><span id="10123-10156"><strong>Nombre y configuración de red</strong></span></h4>
   <h4 id="10158-10190"><span id="10163-10190"><strong>Cuentas administradoras</strong></span></h4>
   <h3 id="10192-10217"><span id="10196-10217">1.2.2 <strong>Navegadores</strong></span></h3>
   <h3 id="10219-10242"><span id="10223-10242">1.2.3 <strong>FileZilla</strong></span></h3>
   <h3 id="10244-10266"><span id="10248-10266">1.2.4 <strong>Netbeans</strong></span></h3>
   <h3 id="10268-10300"><span id="10272-10300">1.2.5 <strong>Visual Studio Code</strong></span></h3>
   <h1 id="10304-10315"><span id="10306-10315">2. GitHub</span></h1>
   <h1 id="10317-10343"><span id="10319-10343">3.Entorno de Explotación</span></h1>
   <hr id="10347-10350">
   <blockquote>
    <p id="10356-10491"><span id="10356-10381"><strong>Álvaro Allén Perlines</strong></span><br> <span id="10385-10403">Curso: 2025/2026</span><br> <span id="10407-10453">2º Curso CFGS Desarrollo de Aplicaciones Web</span><br> <span id="10457-10489">Despliegue de aplicaciones web</span></p>
   </blockquote>
  </form>
 </body>
</html>